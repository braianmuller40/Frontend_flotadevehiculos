<div id="background">
    <div id="divTableAutos">
         <p-table id="tableAutos" [value]="listaAutos" styleClass="p-datatable-striped" responsiveLayout="scroll">
            <ng-template pTemplate="caption">
                <div id="divTitle" class="p-d-flex p-ai-center p-jc-between">
                    <label>Lista de Autos</label>
                </div>
                <div id="divAdd" class="row">
                    <button pButton icon="fas fa-plus" (click)="displayState('nuevo',{})"></button>
                    <div id="divBusqueda"><app-busqueda modo="filter" [serv]="autosServ" [condiciones]="condicionesBusqueda" (resultado)="resultadoBusqueda($event)" (itemTar)="itemTarget($event)"></app-busqueda></div>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                 <tr>
                     <th>Id</th>
                     <th>Descripcion</th>
                     <th>Chapa</th>
                     <th>Fabricante</th>
                     <th>Modelo</th>
                     <th>Kilometraje</th>
                     <th>Disponibilidad</th>
                     <th><i class="far fa-plus-square"></i> Info</th>
                     <th><i class="fas fa-wrench"></i>  Opciones</th>
                 </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
                <tr>
                    <td>{{item.id}}</td>
                    <td>{{item.descripcion}}</td>
                    <td>{{item.chapa}}</td>
                    <td>{{item.fabricante}}</td>
                    <td>{{item.modelo}}</td>
                    <td>{{item.kilometraje}}</td>
                    <td>{{item.disponibilidad}}</td>
                    <td><button pButton icon="fas fa-info" (click)="displayInfo=true"></button></td>
                    <td>
                        <div id="options">
                            <button pButton icon="fas fa-edit" (click)="displayState('editar',item)"></button>
                            <button pButton icon="fas fa-trash" (click)="eliminarItem(item)"></button>
                        </div>
                    </td>
                    <p-dialog header="Informacion adicional" [(visible)]="displayInfo">
                        <div id="divInfo" class="column">
                            <div class="row"><label>Chassis : </label><label>{{item.chassis}}</label></div>
                            <div class="row"><label>Año modelo :</label><label>{{item.ano_modelo}}</label></div>
                            <div class="row"><label>Año fabricacion :</label><label>{{item.ano_fabricacion}}</label></div>  
                        </div>    
                    </p-dialog>
                </tr>
            </ng-template>
        </p-table>
        <div id="paginator" class="p-col-10">
            <p-paginator  [rows]="5" [totalRecords]="totalRecords" (onPageChange)="onPageChange($event)" [showJumpToPageDropdown]="true" [showPageLinks]="false"></p-paginator>
        </div>
    </div>
</div>
<p-dialog [header]="titleModal" [(visible)]="displayNuevoAuto">
    <app-nuevo-auto #auto (reloadPage)="reloadPage()"></app-nuevo-auto>
</p-dialog>
